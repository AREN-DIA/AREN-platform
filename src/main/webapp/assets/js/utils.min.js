function decycle(obj,stack=[]){if(!obj||"object"!=typeof obj)return obj;if(stack.includes(obj))return null;let s=stack.concat([obj]);return Array.isArray(obj)?obj.map(x=>decycle(x,s)):Object.assign(new obj.constructor,Object.fromEntries(Object.entries(obj).map(([k,v])=>[k,decycle(v,s)])))}function vueLoader(file){return httpVueLoader("assets/js/"+file+".vue")}function compareRange(type,r1,r2){let pos1,pos2;switch(type){case Range.START_TO_START:pos1=(r1.startContainer+"/"+r1.startOffset).split("/").map(v=>1*v),pos2=(r2.startContainer+"/"+r2.startOffset).split("/").map(v=>1*v);break;case Range.START_TO_END:pos1=(r1.startContainer+"/"+r1.startOffset).split("/").map(v=>1*v),pos2=(r2.endContainer+"/"+r2.endOffset).split("/").map(v=>1*v);break;case Range.END_TO_START:pos1=(r1.endContainer+"/"+r1.endOffset).split("/").map(v=>1*v),pos2=(r2.startContainer+"/"+r2.startOffset).split("/").map(v=>1*v);break;case Range.END_TO_END:pos1=(r1.endContainer+"/"+r1.endOffset).split("/").map(v=>1*v),pos2=(r2.endContainer+"/"+r2.endOffset).split("/").map(v=>1*v);break;default:throw"Invalid first parameter. Use Range.START_TO_START, Range.START_TO_END, Range.END_TO_START or Range.END_TO_END."}return pos1.compare(pos2)}function clearSelection(){window.getSelection?window.getSelection().removeAllRanges():document.selection&&document.selection.empty()}function snapSelectionToWord(){let sel;if(window.getSelection&&(sel=window.getSelection()).modify){if(sel=window.getSelection(),!sel.isCollapsed){const range=document.createRange();range.setStart(sel.anchorNode,sel.anchorOffset),range.setEnd(sel.focusNode,sel.focusOffset);const backwards=range.collapsed;range.detach();const endNode=sel.focusNode,endOffset=sel.focusOffset;sel.collapse(sel.anchorNode,sel.anchorOffset);let direction=[];direction=backwards?["backward","forward"]:["forward","backward"],sel.modify("move",direction[0],"character"),sel.modify("move",direction[1],"word"),sel.extend(endNode,endOffset),sel.modify("extend",direction[1],"character"),sel.modify("extend",direction[0],"word")}}else if((sel=document.selection)&&"Control"!=sel.type){const textRange=sel.createRange();if(textRange.text){for(textRange.expand("word");/\s$/.test(textRange.text);)textRange.moveEnd("character",-1);textRange.select()}}}Array.prototype.remove=function(obj){let index=this.indexOf(obj);return-1!==index&&(this.splice(index,1),!0)},Array.prototype.compare=function(obj){if(this===obj)return 0;let len=Math.max(this.length,obj.length);for(let i=0;i<len;i++){if(void 0===this[i]||void 0!==obj[i]&&this[i]<obj[i])return-1;if(void 0===obj[i]||void 0!==this[i]&&this[i]>obj[i])return 1}return 0},Array.prototype.includes||(Array.prototype.includes=function(obj){return-1!==this.indexOf(obj)}),String.prototype.includes||(String.prototype.includes=function(obj){return-1!==this.indexOf(obj)}),Node.prototype.getChildPathTo=function(el){if(el===this)return"";let sibIndex=-1,len=el.parentNode.childNodes.length,sib;for(;sibIndex<len&&sib!==el;)sibIndex++,sib=el.parentNode.childNodes[sibIndex];return el.parentNode===this?sibIndex:this.getChildPathTo(el.parentNode)+"/"+sibIndex},Node.prototype.childPathSelector=function(path){path.constructor!==String&&(path+="");let arrayPath=path.split("/");var result=this;let len=arrayPath.length;for(let i=0;i<len;i++)result.childNodes.length>arrayPath[i]?result=result.childNodes[arrayPath[i]]:console.warn("Warning : impossible to find child number "+arrayPath[i]+". The return child may be wrong.",this,result);return result},Node.prototype.forEachNode=function(callback,origin=this,end=!1,index=[]){if(end&&this===origin)return null;!end&&callback&&callback(this,[...index],origin),end||null===this.firstChild?null!==this.nextSibling?(index[index.length-1]++,this.nextSibling.forEachNode(callback,origin,!1,index)):(index.pop(),this.parentNode.forEachNode(callback,origin,!0,index)):(index.push(0),this.firstChild.forEachNode(callback,origin,!1,index))},Range.prototype.setPathStart=function(container,startContainer,startOffset){this.setStart(startContainer?container.childPathSelector(startContainer):container.firstChild,startOffset)},Range.prototype.setPathEnd=function(container,endContainer,endOffset){this.setEnd(endContainer?container.childPathSelector(endContainer):container.firstChild,endOffset)},Range.prototype.getHtml=function(){let div=document.createElement("div");return div.appendChild(this.cloneContents()),div.innerHTML};let scrollProcess=[];function clearAllSmoothScroll(container){let index=scrollProcess.findIndex(s=>s.container===container);if(-1!==index){let len=scrollProcess[index].intervals.length;for(let i=0;i<len;i++)clearInterval(scrollProcess[index].intervals[i]);scrollProcess.splice(index,1)}}function smoothScroll(container,scrollGoal,callback,duration=.5){clearAllSmoothScroll(container);let scrollDir=container.scrollTop<scrollGoal?1:-1,timeInt=5,time=0,origin=container.scrollTop,delta=scrollGoal-container.scrollTop;duration*=200;let index=scrollProcess.findIndex(s=>s.container===container);-1===index&&(scrollProcess.push({container:container,intervals:[]}),index=scrollProcess.length-1),scrollProcess[index].intervals.push(setInterval(()=>{time===duration||1===scrollDir&&(container.scrollTop===container.scrollTopMax||container.scrollTop>=scrollGoal-1)||-1===scrollDir&&(0===container.scrollTop||container.scrollTop<=scrollGoal+1)?(clearAllSmoothScroll(container),callback&&callback()):(container.scrollTop=Math.easeOutExpo(time,origin,delta,duration),time++)},5))}function scrollCenter(container,element,callback,duration=.5){let elemRect=element.getBoundingClientRect(),containerRect=container.getBoundingClientRect(),scrollGoal;smoothScroll(container,elemRect.top+(container.scrollTop-containerRect.top)-containerRect.height/4,callback,duration)}function inScrollView(container,element){let elemRect=element.getBoundingClientRect(),containerRect=container.getBoundingClientRect(),scrollTop=elemRect.top+(container.scrollTop-containerRect.top),scrollBottom=elemRect.top+(container.scrollTop-containerRect.top-containerRect.height)+elemRect.height;return container.scrollTop<scrollTop&&container.scrollTop>scrollBottom}Math.easeOutExpo=function(time,origin,delta,duration){return delta*(1-Math.pow(2,-10*time/duration))+origin};const HSL={fromString(color){let match=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(color);return{h:match[1],s:match[2],l:match[3]/100}},toString:hsl=>"hsl("+hsl.h+", "+100*hsl.s+"%, "+100*hsl.l+"%)"};